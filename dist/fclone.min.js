!function(e,n){"function"==typeof define&&define.amd?define("fclone",[],n):"object"==typeof module&&module.exports?module.exports=n():e.fclone=n()}(this,function(){"use strict";function e(t,r){if(!t||"object"!==("undefined"==typeof t?"undefined":n(t)))return t;if(t instanceof Date){var f=new Date;return f.setTime(t.getTime()),f}if(void 0!==Buffer&&Buffer.isBuffer(t))return new Buffer(t);if(r||(r=[]),Array.isArray(t)){r[r.length]=t;for(var o=t.length,i=-1,u=[];o>++i;)u[i]=~r.indexOf(t[i])?"[Circular]":e(t[i],r);return r.length&&r.length--,u}r[r.length]=t;var l={};if(t instanceof Error)return l.name=t.name,l.message=t.message,l.stack=t.stack,r.length&&r.length--,l;for(var a=Object.keys(t),c=a.length;c--;){var s=a[c];l[s]=~r.indexOf(t[s])?"[Circular]":e(t[s],r)}return r.length&&r.length--,l}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};return e});